# 本アプリのUI操作でイベントを作成し、DBとGoogle Calendarへ登録する機能の実装。

## プロジェクト作成
- サイドバーにプロジェクト一覧を表示させる。
- 一番下に新規作成ボタンを設置する。
- 新規作成ボタンクリックでプロジェクト作成用ダイアログが表示される。
- プロジェクト名、色、メモを登録できる。
- プロジェクト用のストアを用意する。
- ログイン時(そのほか必要なタイミングは後で検討する。)にfetchする。
- バックエンドにプロジェクト一覧を返すAPIを作成する。(updated_atでソートして返したい。)

## イベント作成
- イベント作成ダイアログは設置済み。
- バックエンドにイベント作成用APIを作る。
- フロントからのリクエストを受け取った後、まずGoogle Calendarに登録する。
- そのあとにイベント一覧取得APIを使用し、受け取ったもの（先ほど新規作成したものが含まれるはず）をDBに登録する。
- これはイベントのIDをGoogle Calendarに発行させるためである。
- イベント作成ダイアログにプロジェクト選択のプルダウンメニューを設置する。

## どこかでやる
- カラーリストを取得し、DBに保存する機能。
- projectsテーブルのcolorカラムにはcolorId(colorコードではない)を入れる。
- カラーテーブルを作る。
- googleカレンダーで、カレンダーの色とイベントの色は別。
- イベントの色は11色まで、カレンダーの色はdefaultでは24色だが、追加できる。
- 本アプリでのプロジェクトの色の定義は、google calendarのカレンダーの色で対応する。
- そうする場合、本アプリのプロジェクト=google calendarのカレンダー、ということになる。
- google calendarでカレンダーの色を変えたとき、本アプリのプロジェクトの色も変える。(login時などに取得する。)
- 本アプリでプロジェクトの色を変えたとき、google calendarのカレンダーの色を変える。
- 本アプリ側ではgoogle calendarのイベントの色は扱わない。
- イベント新規作成のときはcalendarの色をリクエストbodyにつめる。
- カラーテーブルではカレンダーの色を保持する。
- プロジェクト作成時に指定した色が、google calendarのcolor-ID-code-mapにない場合は避けなくてはならない気がする。
- calendar作成のリクエストのパラメータにカラーidを渡せないため、calendar=projectは厳しそう。
- 勝手に割り当てられた色を取得すればいいのかもしれない。
- postのレスポンスには色情報はない。一覧GETでIDとカラーコード両方取れる。

~~### [結論]プロジェクトは11個まで~~